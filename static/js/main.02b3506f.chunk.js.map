{"version":3,"sources":["components/Header.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","components/Footer.jsx","App.js","index.js"],"names":["Header","className","href","id","Preloader","GoodsItem","props","mainId","displayName","displayType","displayDescription","price","backgroundUrl","addToBasket","Function","prototype","src","alt","style","fontSize","finalPrice","onClick","GoodsList","goods","length","map","item","displayAssets","full_background","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incrementOrder","decrementOrder","BasketList","order","totalPrice","reduce","sum","el","type","name","Alert","alertName","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","setAlertName","fetch","headers","process","then","response","json","data","shop","console","log","itemIndex","findIndex","orderItem","newItem","newOrder","index","filter","newQuanity","Footer","Date","getFullYear","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.02b3506f.chunk.js","sourcesContent":["function Header() {\r\n    return (\r\n        <>\r\n            <nav className=' blue accent-4'>\r\n                <div className=\"nav-wrapper\">\r\n                    <a href=\"/\" className=\"brand-logo\">React shop</a>\r\n                    <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down \">\r\n                        <li><a href=\"https://github.com/PavelMelnik94/react-shop\">Repo</a></li>\r\n\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        </>\r\n    )\r\n}\r\n\r\nexport {Header}","function Preloader() {\r\n    return (\r\n        <div className=\"progress\">\r\n            <div className=\"indeterminate\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import React from \"react\";\r\n\r\nfunction GoodsItem(props) {\r\n    // console.log(backgroundUrl)\r\n    const {\r\n        mainId,\r\n        displayName,\r\n        displayType,\r\n        displayDescription,\r\n        price,\r\n        backgroundUrl,\r\n        addToBasket = Function.prototype,\r\n    } = props;\r\n    return (\r\n\r\n        <div className=\"card\" >\r\n            <div className=\"card-image\">\r\n                <img src={backgroundUrl} alt={displayName}/>\r\n\r\n            </div>\r\n            <div className=\"card-content\">\r\n                <span className=\"card-title\">{displayName}</span>\r\n                <span className=\"\">тип: {displayType}</span>\r\n                <p>\r\n                    <blockquote className=\"card-title\">\r\n                        {displayDescription}\r\n                    </blockquote>\r\n                </p>\r\n            </div>\r\n            <div className=\"card-action card-buy\">\r\n                <div className='price'>\r\n\r\n                    <span className='right'> цена: <span\r\n                        style={{fontSize: '2rem'}}> {price.finalPrice} руб.</span></span>\r\n                </div>\r\n                <button className='btn btn-buy' onClick={() => addToBasket({mainId, displayName, ...price})}>Добавить</button>\r\n\r\n            </div>\r\n        </div>)\r\n\r\n}\r\n\r\nexport {GoodsItem}","import React from \"react\";\r\nimport {GoodsItem} from \"./GoodsItem\";\r\n\r\n\r\nfunction GoodsList(props) {\r\n\r\n    const {\r\n        goods = [],\r\n        addToBasket = Function.prototype,\r\n    } = props;\r\n\r\n    if (!goods.length) {\r\n        return <h3>nothing!</h3>\r\n    }\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div className='goods'>\r\n            {goods.map((item) => (<GoodsItem key={item.mainId}   {...item} addToBasket={addToBasket}\r\n                                             backgroundUrl={item.displayAssets[0].full_background}/>))}\r\n        </div>)\r\n\r\n}\r\n\r\nexport default GoodsList;","function Cart(props) {\r\n    const {\r\n        quantity = 0,\r\n        handleBasketShow = Function.prototype,\r\n    } = props;\r\n    return (\r\n        <div onClick={handleBasketShow} className='cart deep-orange darken-3 white-text'>\r\n\r\n            <i className=\"material-icons\">local_grocery_store</i>\r\n            {quantity ? <span className='cart-quantity'>{quantity}</span> : null}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport {Cart}","function BasketItem(props) {\r\n    const {displayName,\r\n        finalPrice,\r\n        mainId,\r\n        quantity,\r\n        removeFromBasket = Function.prototype,\r\n        incrementOrder = Function.prototype,\r\n        decrementOrder = Function.prototype,} = props;\r\n\r\n    return (\r\n        <li  className=\"collection-item\">\r\n           <span className='order-name'> {displayName} </span>   <span>\r\n            <i className='material-icons basket-quantity' onClick={()=> incrementOrder(mainId)}>add</i>\r\n        {quantity} шт. <i className='material-icons basket-quantity' onClick={()=> decrementOrder(mainId)}>remove</i> </span>= {finalPrice*quantity} руб.\r\n\r\n\r\n            <span className=\"secondary-content\" onClick={() => removeFromBasket(mainId)}>\r\n                <i className=\"material-icons basket-delete\" >delete_forever</i>\r\n            </span>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport {BasketItem}","import {BasketItem} from \"./BasketItem\";\r\n\r\nfunction BasketList(props) {\r\n    const {\r\n        order = [],\r\n        handleBasketShow = Function.prototype,\r\n        removeFromBasket = Function.prototype,\r\n        incrementOrder = Function.prototype,\r\n        decrementOrder = Function.prototype,\r\n    } = props;\r\n\r\n    const totalPrice = order.reduce((sum, el) => {\r\n        return sum + el.finalPrice *el.quantity\r\n    }, 0)\r\n    return (\r\n        <div className=\"collection basket-list\">\r\n            <ul className=\"collection-item active\">Корзина <span className='secondary-content'><i className='material-icons basket-close' onClick={handleBasketShow}>close</i></span></ul>\r\n            {order.length ? order.map(item =>\r\n                    <BasketItem\r\n                        key={item.mainId}\r\n                        {...item}\r\n                        removeFromBasket={removeFromBasket}\r\n                        incrementOrder={incrementOrder}\r\n                        decrementOrder={decrementOrder}\r\n                    />) :\r\n                <li className=\"collection-item\"> корзина пуста </li>}\r\n            <li className=\"collection-item active\">Общая стоимость: {totalPrice} руб.</li>\r\n\r\n            <li className=\"collection-item \"> <button\r\n                className=\"btn btn-small waves-effect waves-light cyan darken-3\" type=\"submit\" name=\"action\">Оплатить\r\n                <i className=\"material-icons right\">attach_money</i>\r\n            </button></li>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport {BasketList}","import React, { useEffect } from \"react\";\r\n\r\nfunction Alert(props) {\r\n    const { alertName = '', closeAlert = Function.prototype} = props;\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeAlert, 2000)\r\n\r\n        return () => {\r\n            clearTimeout(timerId)\r\n        }\r\n    }, [alertName])\r\n\r\n\r\n            return (\r\n                <div id='toast-container'>\r\n                    <div className='toast'> {alertName} добавлен в корзину</div>\r\n                </div>\r\n            )\r\n}\r\n\r\nexport {Alert}","import React, { useState, useEffect } from \"react\";\r\nimport {API_URL, API_KEY} from \"../config\";\r\nimport Preloader from \"./Preloader\";\r\nimport GoodsList from \"./GoodsList\";\r\nimport {Cart} from \"./Cart\";\r\nimport {BasketList} from \"./BasketList\";\r\nimport {Alert} from \"./Alert\";\r\n\r\n\r\nconst Shop = () => {\r\n\r\n    const  [goods, setGoods] = useState([]);\r\n    const  [loading, setLoading] = useState(true);\r\n    const  [order, setOrder] = useState([]);\r\n    const [isBasketShow, setBasketShow] = useState(false);\r\n    const [alertName, setAlertName] = useState('');\r\n    useEffect(function getGoods() {\r\n        fetch(API_URL, {headers: {'Authorization': API_KEY,} })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n               data.shop && setGoods(data.shop);\r\n                setLoading(false)\r\n            })\r\n\r\n\r\n\r\n        return console.log('goodbye')\r\n    }, [])\r\n\r\n    const closeAlert = () => {\r\n        setAlertName('');\r\n    }\r\n    const removeFromBasket = (mainId) => {\r\n        const newOrder = order.filter(el => el.mainId !== mainId)\r\n        setOrder(newOrder)\r\n    }\r\n\r\n    const addToBasket = (item) => {\r\n        const itemIndex = order.findIndex(\r\n            (orderItem) => orderItem.mainId === item.mainId\r\n        );\r\n\r\n        if (itemIndex < 0) {\r\n            const newItem = {\r\n                ...item,\r\n                quantity: 1,\r\n            };\r\n            setOrder([...order, newItem]);\r\n        } else {\r\n            const newOrder = order.map((orderItem, index) => {\r\n                if (index === itemIndex) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity: orderItem.quantity + 1,\r\n                    };\r\n                } else {\r\n                    return orderItem;\r\n                }\r\n            });\r\n\r\n            setOrder(newOrder);\r\n        }\r\n        setAlertName(item.displayName);\r\n\r\n    };\r\n\r\n    const handleBasketShow = () => {\r\n        setBasketShow(!isBasketShow);\r\n        console.log(order)\r\n    }\r\n\r\n    const incrementOrder = (mainId) => {\r\n        const newOrder = order.map((el) => {\r\n            if (el.mainId === mainId) {\r\n                const newQuanity = el.quantity +1;\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuanity,\r\n                };\r\n            }else {\r\n                return el;\r\n            }\r\n        });\r\n        setOrder(newOrder)\r\n    };\r\n\r\n    const decrementOrder = (mainId) => {\r\n        const newOrder = order.map((el) => {\r\n            if (el.mainId === mainId) {\r\n                const newQuanity = el.quantity -1;\r\n                return {\r\n                    ...el,\r\n                    quantity: newQuanity >= 0 ? newQuanity : 0,\r\n                };\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        setOrder(newOrder)\r\n    };\r\n\r\n\r\n    return (\r\n\r\n        <main className='container content'>\r\n            <Cart quantity={order.length} handleBasketShow={handleBasketShow}/>\r\n            { loading ? <Preloader /> : <GoodsList setOrder={setOrder} addToBasket={addToBasket} goods={goods}/>}\r\n\r\n            { isBasketShow &&\r\n            <BasketList\r\n                order={order}\r\n                handleBasketShow={handleBasketShow}\r\n                removeFromBasket={removeFromBasket}\r\n                incrementOrder={incrementOrder}\r\n                decrementOrder={decrementOrder} /> }\r\n\r\n            {alertName && <Alert alertName={alertName} closeAlert={closeAlert} />}\r\n        </main>\r\n    )\r\n\r\n}\r\n\r\nexport default Shop;","const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\r\n\r\nexport {\r\n    API_KEY,\r\n    API_URL\r\n}","function Footer() {\r\n    return (\r\n        <>\r\n            <footer className=\"page-footer    blue accent-3\">\r\n\r\n\r\n                <div className=\"footer-copyright\">\r\n                    <div className=\"container\">\r\n                        © {new Date().getFullYear()} Copyright Text\r\n                        <a className=\"grey-text text-lighten-4 right\"\r\n                           href=\"https://github.com/PavelMelnik94/react-shop\">Repo</a>\r\n                    </div>\r\n                </div>\r\n            </footer>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport {Footer}","import {Header} from \"./components/Header\";\nimport Shop from \"./components/Shop\";\nimport {Footer} from \"./components/Footer\";\n\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Header/>\n            <Shop/>\n            <Footer/>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}